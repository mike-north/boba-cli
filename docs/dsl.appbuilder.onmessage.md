<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@boba-cli/dsl](./dsl.md) &gt; [AppBuilder](./dsl.appbuilder.md) &gt; [onMessage](./dsl.appbuilder.onmessage.md)

## AppBuilder.onMessage() method

Register a message handler for a specific message type.

**Signature:**

```typescript
onMessage<M extends Msg>(msgClass: new (...args: any[]) => M, handler: MessageHandler<State, Components, M>): AppBuilder<State, Components>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

msgClass


</td><td>

new (...args: any\[\]) =&gt; M


</td><td>

The message class constructor to match


</td></tr>
<tr><td>

handler


</td><td>

[MessageHandler](./dsl.messagehandler.md)<!-- -->&lt;State, Components, M&gt;


</td><td>

Function to call when a message of this type is received


</td></tr>
</tbody></table>

**Returns:**

[AppBuilder](./dsl.appbuilder.md)<!-- -->&lt;State, Components&gt;

A new [AppBuilder](./dsl.appbuilder.md) with the message handler registered

## Remarks

Message handlers are called when a message of the specified type is received. Use this to handle async callbacks from commands scheduled via `onInit()` or other message handlers.

## Example


```typescript
class DownloadComplete {
  constructor(public packageName: string) {}
}

createApp()
  .onMessage(DownloadComplete, ({ msg, update, schedule }) => {
    update({ currentPackage: msg.packageName })
    schedule(tick(500, () => new DownloadComplete('next-package')))
  })
```

